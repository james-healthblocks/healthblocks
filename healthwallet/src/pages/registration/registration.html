<!--
  Generated template for the Registration page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
	<ion-navbar color="primary">
		<ion-title>
			<img src="assets/img/HealthBlocksBanner.png" style="width:auto; height:40px; vertical-align: middle; display:inline-block" alt="healthblocks" />
		</ion-title>
	</ion-navbar>
	<ion-toolbar color="secondary" class="navbar2">
		<ion-title>Register</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content padding>

	<div class="main_content">

		<form [formGroup]="registrationForm"> 	
		<ion-list>
			<ion-list-header>
				BASIC INFORMATION
			</ion-list-header>
			
			<div *ngFor="let f of fields | slice:0:8">
				<ion-item>
					<ion-label floating> {{f.label}} </ion-label>
					<ion-input type={{f.type}} formControlName={{f.name}} ></ion-input>	
				</ion-item>

	            <ion-item *ngIf="f.name == 'Philhealth' && registrationForm.controls.Philhealth.hasError('required') && (registrationForm.controls.Philhealth.touched || submitAttempt)" class="error-box">
	            	<p>* Philhealth No. is required</p>
    			</ion-item>
	            <ion-item *ngIf="f.name == 'Philhealth' && (registrationForm.controls.Philhealth.hasError('minlength') || registrationForm.controls.Philhealth.hasError('maxlength')) && registrationForm.controls.Philhealth.touched" class="error-box">
	            	<p>* Philhealth No. is 12 characters</p>
    			</ion-item>
	            <ion-item *ngIf="f.name == 'FirstName' && registrationForm.controls.FirstName.hasError('required') && registrationForm.controls.FirstName.touched" class="error-box">
	            	<p>* First name is required</p>
    			</ion-item>
	            <ion-item *ngIf="f.name == 'LastName' && registrationForm.controls.LastName.hasError('required') && registrationForm.controls.LastName.touched" class="error-box">
	            	<p>* Last name is required</p>
    			</ion-item>
	            <ion-item *ngIf="f.name == 'Birthdate' && registrationForm.controls.Birthdate.hasError('required') && registrationForm.controls.Birthdate.touched" class="error-box">
	            	<p>* Birth date is required</p>
    			</ion-item>
			</div>
			
			<ion-list-header>
				RELATIONS
			</ion-list-header>
			
			<div *ngFor="let f of fields | slice:8:19">
				<ion-item>
					<ion-label floating> {{f.label}} </ion-label>
					<ion-input type={{f.type}} formControlName={{f.name}}></ion-input>
				</ion-item>

	            <ion-item *ngIf="f.name == 'MotherFirstName' && registrationForm.controls.MotherFirstName.hasError('required') && registrationForm.controls.MotherFirstName.touched" class="error-box">
	            	<p>* Mother's first name is required</p>
    			</ion-item>
	            <ion-item *ngIf="f.name == 'MotherLastName' && registrationForm.controls.MotherLastName.hasError('required') && registrationForm.controls.MotherLastName.touched" class="error-box">
	            	<p>* Mother's last name is required</p>
    			</ion-item>
	            <ion-item *ngIf="f.name == 'FatherFirstName' && registrationForm.controls.FatherFirstName.hasError('required') && registrationForm.controls.FatherFirstName.touched" class="error-box">
	            	<p>* Father's first name is required</p>
    			</ion-item>
	            <ion-item *ngIf="f.name == 'FatherLastName' && registrationForm.controls.FatherLastName.hasError('required') && registrationForm.controls.FatherLastName.touched" class="error-box">
	            	<p>* Father's last name is required</p>
    			</ion-item>
	            <ion-item *ngIf="f.name == 'BirthOrder' && registrationForm.controls.BirthOrder.hasError('required') && registrationForm.controls.BirthOrder.touched" class="error-box">
	            	<p>* Birth order is required</p>
    			</ion-item>
			</div>
			
		</ion-list>	
		
		<button ion-button color="secondary" round block (click)="register();" [disabled]="!registrationForm.valid">Register</button>	
		</form>
			
	</div>


</ion-content>
